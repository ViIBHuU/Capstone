<h1 style="font-family: Arial, sans-serif; color: #333; text-align: center;">
    Select Columns for Clustering
</h1>

<form method="post" action="{% url 'results' %}" onsubmit="return validateSelection()" 
      style="max-width: 400px; margin: auto; background: #fff; padding: 20px; border-radius: 10px; 
             box-shadow: 0px 4px 10px rgba(0, 0, 0, 0.1); text-align: center;">
    {% csrf_token %}

    <div id="checkbox-container" style="display: flex; flex-wrap: wrap; gap: 10px; justify-content: center; margin-bottom: 15px;">
        {% for column in columns %}
            <label style="background: #f8f8f8; padding: 8px 12px; border-radius: 8px; cursor: pointer; transition: 0.3s ease;">
                <input type="checkbox" name="columns" value="{{ column }}" style="margin-right: 5px;"> {{ column }}
            </label>
        {% endfor %}
    </div>

    <button type="submit" 
            style="background: #007bff; color: white; border: none; padding: 10px 15px; 
                   border-radius: 8px; cursor: pointer; transition: 0.3s ease;">
        Cluster Data
    </button>
</form>

<script>
    function validateSelection() {
        let checkboxes = document.querySelectorAll('input[name="columns"]:checked');
        if (checkboxes.length < 2) {
            alert("Please select at least two options before clustering.");
            return false;  // Prevent form submission
        }
        return true;  // Allow form submission
    }
</script>
